<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
  <button id="rock">Rock</button>
  <button id="paper">Paper</button>
  <button id="scissors">Scissors</button>
  <div id="resultsDiv"></div>
    <script>

let playerScore = 0;
let computerScore = 0;

        function getComputerChoice() {
let rpc = ["rock", "paper", "scissors"]
return rpc[Math.floor(Math.random() * rpc.length)]
 }

function playRound(playerSelection, computerSelection) {
    playerSelection = playerSelection.toLowerCase();
  const validChoices = ['rock', 'paper', 'scissors'];
if (!validChoices.includes(playerSelection)) {
    return 'Invalid choice';
  }
  if (playerSelection === 'rock' && computerSelection === 'scissors') {
return "You win!"
  } else if (playerSelection === 'rock' && computerSelection === 'paper') {
    return "You lose!"
  } else if (playerSelection === 'rock' && computerSelection === 'rock') {
    return "Draw!"
  } else if (playerSelection === 'paper' && computerSelection === 'scissors') {
return "You lose!"
  } else if (playerSelection === 'paper' && computerSelection === 'rock') {
return "You win!"
  } else if (playerSelection === 'paper' && computerSelection === 'paper') {
    return "Draw!"
  } else if (playerSelection === 'scissors' && computerSelection === 'rock') {
    return "You lose!"
  } else if (playerSelection === 'scissors' && computerSelection === 'paper') {
    return "You win!"
  } else if (playerSelection === 'scissors' && computerSelection === 'scissors') {
    return "Draw!"
  } 
}

let rock = document.getElementById('rock')
let paper = document.getElementById('paper')
let scissors = document.getElementById('scissors')

function handleClick(playerChoice) {
    const computerChoice = getComputerChoice();
    const result = playRound(playerChoice, computerChoice);
    if (result === "You win!") playerScore++;
    if (result === "You lose!") computerScore++;

    const resultsDiv = document.getElementById('resultsDiv');
    resultsDiv.innerHTML = `${result} <br> Player: ${playerScore} - Computer: ${computerScore}`;

    if (playerScore >= 5) {
        resultsDiv.innerHTML += '<br> You are the winner!';
        resetGame();
    } else if (computerScore >= 5) {
        resultsDiv.innerHTML += '<br> Computer is the winner!';
        resetGame();
    }
}

function resetGame() {
    playerScore = 0;
    computerScore = 0;
    setTimeout(function() {
        const resultsDiv = document.getElementById('resultsDiv');
        resultsDiv.innerHTML = 'New game. Make your choice!';
    }, 3000); // Wait for 3 seconds before resetting the game
}


rock.addEventListener('click', function() { handleClick('rock'); });
paper.addEventListener('click', function() { handleClick('paper'); });
scissors.addEventListener('click', function() { handleClick('scissors'); });

    </script>
</body>
</html>